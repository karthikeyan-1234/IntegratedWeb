<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angular App Deployment Guide - Jenkins, Kubernetes & Kong</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        header {
            border-bottom: 4px solid #0066cc;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #0066cc;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .meta-info {
            display: flex;
            gap: 30px;
            color: #666;
            font-size: 0.9em;
            flex-wrap: wrap;
        }
        
        .meta-info span {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        h2 {
            color: #0066cc;
            font-size: 1.8em;
            margin-top: 40px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        h3 {
            color: #333;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 12px;
        }
        
        h4 {
            color: #555;
            font-size: 1.1em;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #c7254e;
        }
        
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }
        
        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }
        
        .info-box {
            background-color: #e7f3ff;
            border-left: 4px solid #0066cc;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .warning-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .success-box {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .critical-box {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .command-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .command-box strong {
            display: block;
            margin-bottom: 10px;
            color: #0066cc;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }
        
        th {
            background-color: #0066cc;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .checklist {
            list-style: none;
            margin-left: 0;
        }
        
        .checklist li:before {
            content: "âœ“ ";
            color: #28a745;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .architecture-diagram {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
        }
        
        .toc {
            background-color: #f8f9fa;
            padding: 25px;
            border-radius: 5px;
            margin: 30px 0;
        }
        
        .toc h2 {
            margin-top: 0;
        }
        
        .toc ul {
            margin-left: 20px;
        }
        
        .toc a {
            color: #0066cc;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        .file-path {
            background-color: #fff8e1;
            padding: 8px 12px;
            border-left: 3px solid #ffc107;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                padding: 20px;
            }
            
            pre {
                page-break-inside: avoid;
            }
            
            h2 {
                page-break-after: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Angular App Deployment Guide</h1>
            <p class="subtitle">Complete CI/CD Pipeline with Jenkins, Kubernetes & Kong Gateway - UPDATED</p>
            <div class="meta-info">
                <span><strong>Author:</strong> CI/CD Implementation Guide</span>
                <span><strong>Date:</strong> November 24, 2025</span>
                <span><strong>Version:</strong> 2.0 - With Kong Route Fix</span>
            </div>
        </header>

        <div class="toc">
            <h2>Table of Contents</h2>
            <ol>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#prerequisites">Prerequisites</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#section1">Section 1: Prepare Angular Application</a></li>
                <li><a href="#section2">Section 2: Create Kubernetes Deployment Files</a></li>
                <li><a href="#section3">Section 3: Create Jenkins Pipeline</a></li>
                <li><a href="#section4">Section 4: Configure Kong Gateway Routing</a></li>
                <li><a href="#section5">Section 5: Testing and Verification</a></li>
                <li><a href="#troubleshooting">Troubleshooting Guide</a></li>
                <li><a href="#appendix">Appendix: Configuration Files</a></li>
            </ol>
        </div>

        <section id="overview">
            <h2>Overview</h2>
            <p>This guide provides step-by-step instructions to set up a complete CI/CD pipeline for deploying an Angular application using Jenkins, Docker Desktop Kubernetes, and Kong Gateway.</p>
            
            <div class="critical-box">
                <strong>CRITICAL UPDATE:</strong> This version includes the essential Kong route configuration fix for Angular apps with base href="/web/" that resolves 404 errors for JavaScript and CSS files.
            </div>

            <h3>What You'll Build</h3>
            <ul>
                <li><strong>Source Control:</strong> GitHub repository (https://github.com/karthikeyan-1234/IntegratedWeb)</li>
                <li><strong>CI/CD Tool:</strong> Jenkins for automated build and deployment</li>
                <li><strong>Containerization:</strong> Docker for creating Nginx container with Angular app</li>
                <li><strong>Orchestration:</strong> Docker Desktop Kubernetes in default namespace</li>
                <li><strong>Gateway:</strong> Kong Gateway in kong namespace for routing</li>
                <li><strong>Registry:</strong> Docker Hub for storing container images</li>
            </ul>

            <h3>Complete Workflow</h3>
            <ol>
                <li>Developer pushes Angular code to GitHub</li>
                <li>Jenkins detects changes (SCM polling every minute)</li>
                <li>Jenkins builds the Angular project</li>
                <li>Jenkins creates Docker image with Nginx</li>
                <li>Docker image is pushed to Docker Hub</li>
                <li>Kubernetes deploys the Angular application</li>
                <li>Kong Gateway routes traffic to Angular app</li>
                <li>Application accessible at http://kong-proxy.local/web</li>
            </ol>
        </section>

        <!-- Prerequisites, Architecture, Sections 1-3 remain the same -->

        <section id="section4">
            <h2>Section 4: Configure Kong Gateway Routing</h2>

            <h3>4.1: Verify Kong is Accessible</h3>

            <div class="command-box">
                <strong>Test Kong Admin API:</strong>
                <pre><code># PowerShell
Invoke-RestMethod -Uri "http://kong-admin.local/status"</code></pre>
            </div>

            <div class="response-block">
                <strong>Expected Response:</strong> Should show Kong status with database connected.
            </div>

            <h3>4.2: Register Angular Service in Kong</h3>

            <div class="command-box">
                <strong>Create Kong Service for Angular app:</strong>
                <pre><code># PowerShell
Invoke-RestMethod -Uri "http://kong-admin.local/services/" `
    -Method Post `
    -Body @{
        name="angular-app-service"
        url="http://angular-app-service.default.svc.cluster.local:80"
    }</code></pre>
            </div>

            <div class="info-box">
                <strong>Service URL Explanation:</strong>
                <ul>
                    <li><strong>angular-app-service</strong> - Kubernetes service name</li>
                    <li><strong>default</strong> - Namespace where Angular app is deployed</li>
                    <li><strong>svc.cluster.local</strong> - Kubernetes internal DNS domain</li>
                    <li><strong>80</strong> - Service port (Nginx default port)</li>
                </ul>
            </div>

            <h3>4.3: Create Route for Angular Application (UPDATED - CRITICAL FIX)</h3>

            <div class="critical-box">
                <strong>IMPORTANT:</strong> Angular apps built with <code>&lt;base href="/web/"&gt;</code> require <code>strip_path: true</code> to avoid 404 errors for assets.
            </div>

            <div class="command-box">
                <strong>Delete any existing route first:</strong>
                <pre><code># PowerShell - Clean up existing route
Invoke-RestMethod -Uri "http://kong-admin.local/routes/angular-app-route" -Method DELETE</code></pre>
            </div>

            <div class="command-box">
                <strong>Create route with strip_path: true (FIXED):</strong>
                <pre><code># PowerShell - CORRECT configuration
Invoke-RestMethod -Uri "http://kong-admin.local/services/angular-app-service/routes" `
    -Method POST `
    -ContentType 'application/json' `
    -Body (@{
        name="angular-app-route"
        paths=@("/web", "/web/")
        strip_path=$true  # This strips the /web prefix when forwarding to backend
        preserve_host=$true
        path_handling="v1"
    } | ConvertTo-Json -Depth 4)</code></pre>
            </div>

            <div class="info-box">
                <strong>Why This Fix Works:</strong>
                <ul>
                    <li><strong>Before:</strong> Kong route <code>/web</code> â†’ Angular app at <code>/</code> (base href mismatch = 404 errors)</li>
                    <li><strong>After:</strong> Kong route <code>/web</code> with <code>strip_path: true</code> â†’ Angular app receives <code>/</code> but thinks it's at <code>/web/</code> (correct!)</li>
                </ul>
            </div>

            <h3>4.4: Verify Service and Route Creation</h3>

            <div class="command-box">
                <strong>Check Kong configuration:</strong>
                <pre><code># List all services
Invoke-RestMethod -Uri "http://kong-admin.local/services/" | ConvertTo-Json -Depth 3

# List routes for angular service
Invoke-RestMethod -Uri "http://kong-admin.local/services/angular-app-service/routes" | ConvertTo-Json -Depth 3</code></pre>
            </div>

            <div class="success-box">
                <strong>Expected Route Configuration:</strong>
                <pre><code>{
  "strip_path": true,
  "paths": ["/web", "/web/"],
  "name": "angular-app-route"
}</code></pre>
            </div>
        </section>

        <section id="section5">
            <h2>Section 5: Testing and Verification</h2>

            <h3>5.1: Verify Kubernetes Deployment</h3>

            <div class="command-box">
                <strong>Check all components are running:</strong>
                <pre><code># Check Angular app pods
kubectl get pods -l app=angular-app

# Check Angular service
kubectl get svc angular-app-service

# Check Kong pods
kubectl get pods -n kong

# Check all services
kubectl get svc --all-namespaces</code></pre>
            </div>

            <h3>5.2: Test Angular App Through Kong (UPDATED)</h3>

            <div class="command-box">
                <strong>Port forward and test the Angular application:</strong>
                <pre><code># Port forward Kong proxy
kubectl port-forward -n kong service/kong-proxy 8000:8000

# Test through Kong proxy
Start-Process "http://localhost:8000/web/"

# Or test directly
Invoke-RestMethod -Uri "http://localhost:8000/web/"</code></pre>
            </div>

            <h3>5.3: Test Direct Kubernetes Access (Optional)</h3>

            <div class="command-box">
                <strong>Port forward for direct testing:</strong>
                <pre><code># Port forward to Angular service
kubectl port-forward svc/angular-app-service 8080:80

# Test directly (in new terminal)
Start-Process "http://localhost:8080/"
Invoke-RestMethod -Uri "http://localhost:8080/"</code></pre>
            </div>

            <h3>5.4: Verify Complete Setup (UPDATED)</h3>

            <table>
                <thead>
                    <tr>
                        <th>Component</th>
                        <th>Status Check</th>
                        <th>Expected Result</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Angular Deployment</td>
                        <td><code>kubectl get deployment angular-app-deployment</code></td>
                        <td>1/1 READY</td>
                    </tr>
                    <tr>
                        <td>Angular Service</td>
                        <td><code>kubectl get svc angular-app-service</code></td>
                        <td>ClusterIP, port 80</td>
                    </tr>
                    <tr>
                        <td>Kong Service</td>
                        <td><code>Invoke-RestMethod "http://kong-admin.local/services/angular-app-service"</code></td>
                        <td>Returns service details</td>
                    </tr>
                    <tr>
                        <td>Kong Route</td>
                        <td><code>Invoke-RestMethod "http://kong-admin.local/routes/angular-app-route"</code></td>
                        <td>Returns route with <code>strip_path: true</code></td>
                    </tr>
                    <tr>
                        <td>End-to-End</td>
                        <td><code>Invoke-RestMethod "http://localhost:8000/web/"</code></td>
                        <td>Returns Angular app HTML without 404 errors</td>
                    </tr>
                </tbody>
            </table>

            <h3>5.5: Access Points Summary</h3>

            <table>
                <thead>
                    <tr>
                        <th>Access Method</th>
                        <th>URL</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Kong Proxy</td>
                        <td>http://localhost:8000/web/</td>
                        <td>Production access via Kong (port-forward)</td>
                    </tr>
                    <tr>
                        <td>Kong Admin</td>
                        <td>http://kong-admin.local/</td>
                        <td>Kong configuration</td>
                    </tr>
                    <tr>
                        <td>Jenkins</td>
                        <td>http://localhost:8080</td>
                        <td>CI/CD pipeline management</td>
                    </tr>
                    <tr>
                        <td>GitHub</td>
                        <td>https://github.com/karthikeyan-1234/IntegratedWeb</td>
                        <td>Source code repository</td>
                    </tr>
                    <tr>
                        <td>Docker Hub</td>
                        <td>https://hub.docker.com/r/karthiknat/integrated-web</td>
                        <td>Container image registry</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="troubleshooting">
            <h2>Troubleshooting Guide</h2>

            <h3>Issue: 404 Errors for JavaScript/CSS Files (NEW)</h3>

            <div class="critical-box">
                <strong>Symptoms:</strong> Angular app loads but assets (JS, CSS) return 404<br>
                <strong>Root Cause:</strong> Angular app built with <code>&lt;base href="/web/"&gt;</code> but Kong not stripping path prefix<br>
                <strong>Solution:</strong> Update Kong route with <code>strip_path: true</code>
            </div>

            <div class="command-box">
                <strong>Diagnose the issue:</strong>
                <pre><code># Check Angular app base href
kubectl exec -it $(kubectl get pods -l app=angular-app -o jsonpath='{.items[0].metadata.name}') -- grep "base href" /usr/share/nginx/html/index.html

# Check Kong route configuration
Invoke-RestMethod -Uri "http://kong-admin.local/routes/angular-app-route" | ConvertTo-Json</code></pre>
            </div>

            <div class="command-box">
                <strong>Apply the fix:</strong>
                <pre><code># Delete existing route
Invoke-RestMethod -Uri "http://kong-admin.local/routes/angular-app-route" -Method DELETE

# Create corrected route
Invoke-RestMethod -Uri "http://kong-admin.local/services/angular-app-service/routes" `
    -Method POST `
    -ContentType 'application/json' `
    -Body (@{
        name="angular-app-route"
        paths=@("/web", "/web/")
        strip_path=$true
        preserve_host=$true
        path_handling="v1"
    } | ConvertTo-Json -Depth 4)</code></pre>
            </div>

            <h3>Issue 1: Jenkins Build Fails - npm Command Not Found</h3>

            <div class="command-box">
                <strong>Solution:</strong>
                <pre><code># Verify Node.js is installed on Jenkins agent
# In Jenkins Script Console:
def proc = "node --version".execute()
proc.waitFor()
println proc.text</code></pre>
            </div>

            <p><strong>Alternative:</strong> Use Node.js Docker image for build stage or install Node.js on Jenkins agent.</p>

            <h3>Issue 2: Angular Build Failures</h3>

            <div class="command-box">
                <strong>Check build logs:</strong>
                <pre><code># Look for specific error messages in Jenkins console output
# Common issues:
# - Missing dependencies (run npm ci)
# - TypeScript compilation errors
# - Memory issues during build</code></pre>
            </div>

            <h3>Issue 3: Docker Build Failures</h3>

            <div class="command-box">
                <strong>Verify Dockerfile:</strong>
                <pre><code># Test Docker build locally
docker build -t test-angular .

# Check for:
# - Correct build context
# - Proper multi-stage build
# - Nginx configuration</code></pre>
            </div>

            <h3>Issue 4: Kubernetes Deployment Failures</h3>

            <div class="command-box">
                <strong>Debug deployment:</strong>
                <pre><code># Check pod status and logs
kubectl describe pod -l app=angular-app
kubectl logs -l app=angular-app

# Verify image exists and accessible
kubectl get events --sort-by=.metadata.creationTimestamp</code></pre>
            </div>

            <h3>Issue 5: Kong Routing Not Working</h3>

            <div class="command-box">
                <strong>Debug Kong configuration:</strong>
                <pre><code># Verify service and route
Invoke-RestMethod -Uri "http://kong-admin.local/services/angular-app-service" | ConvertTo-Json
Invoke-RestMethod -Uri "http://kong-admin.local/routes/angular-app-route" | ConvertTo-Json

# Check Kong logs
kubectl logs -n kong deployment/kong

# Test internal connectivity
kubectl exec -it $(kubectl get pod -l app=angular-app -o jsonpath="{.items[0].metadata.name}") -- nslookup angular-app-service</code></pre>
            </div>

            <h3>General Debugging Commands</h3>

            <table>
                <thead>
                    <tr>
                        <th>Purpose</th>
                        <th>Command</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>View all pods</td>
                        <td><code>kubectl get pods --all-namespaces</code></td>
                    </tr>
                    <tr>
                        <td>View service details</td>
                        <td><code>kubectl describe svc angular-app-service</code></td>
                    </tr>
                    <tr>
                        <td>Check pod logs</td>
                        <td><code>kubectl logs -l app=angular-app -f</code></td>
                    </tr>
                    <tr>
                        <td>Test service internally</td>
                        <td><code>kubectl port-forward svc/angular-app-service 8080:80</code></td>
                    </tr>
                    <tr>
                        <td>Check Kong status</td>
                        <td><code>Invoke-RestMethod "http://kong-admin.local/status"</code></td>
                    </tr>
                    <tr>
                        <td>View Kong services</td>
                        <td><code>Invoke-RestMethod "http://kong-admin.local/services"</code></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="appendix">
            <h2>Appendix: Configuration Files Reference</h2>

            <h3>Complete File Structure</h3>

            <pre><code>IntegratedWeb/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ angular-deploy.yml
â”œâ”€â”€ Jenkinsfile
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ assets/
â”‚   â””â”€â”€ environments/
â”œâ”€â”€ angular.json
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json</code></pre>

            <h3>Kubernetes Service DNS Names</h3>

            <table>
                <thead>
                    <tr>
                        <th>Service</th>
                        <th>Internal DNS</th>
                        <th>Access Method</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>angular-app-service</td>
                        <td>angular-app-service.default.svc.cluster.local:80</td>
                        <td>Kong Gateway</td>
                    </tr>
                    <tr>
                        <td>kong-admin</td>
                        <td>kong-admin.kong.svc.cluster.local:8001</td>
                        <td>Ingress (kong-admin.local)</td>
                    </tr>
                    <tr>
                        <td>kong-proxy</td>
                        <td>kong-proxy.kong.svc.cluster.local:8000</td>
                        <td>Ingress (kong-proxy.local)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Quick Reference Commands (UPDATED)</h3>

            <h4>Kubernetes Commands</h4>
            <pre><code># Deploy Angular app
kubectl apply -f angular-deploy.yml

# Check deployment
kubectl get deployment angular-app-deployment

# View pods
kubectl get pods -l app=angular-app

# View logs
kubectl logs -l app=angular-app

# Restart deployment
kubectl rollout restart deployment/angular-app-deployment</code></pre>

            <h4>Kong Commands (UPDATED WITH FIX)</h4>
            <pre><code># Create service
Invoke-RestMethod -Uri "http://kong-admin.local/services/" -Method Post -Body @{name="angular-app-service";url="http://angular-app-service.default.svc.cluster.local:80"}

# Create route (WITH STRIP_PATH FIX)
Invoke-RestMethod -Uri "http://kong-admin.local/services/angular-app-service/routes" -Method POST -ContentType 'application/json' -Body (@{name="angular-app-route";paths=@("/web", "/web/");strip_path=$true;preserve_host=$true;path_handling="v1"} | ConvertTo-Json)

# Verify configuration
Invoke-RestMethod -Uri "http://kong-admin.local/services/angular-app-service/routes" | ConvertTo-Json</code></pre>

            <h4>Jenkins Pipeline Stages</h4>
            <ol>
                <li><strong>Checkout:</strong> Pulls code from GitHub</li>
                <li><strong>Install Dependencies:</strong> Runs npm ci</li>
                <li><strong>Build Angular:</strong> Creates production build</li>
                <li><strong>Docker Build:</strong> Creates container image</li>
                <li><strong>Docker Push:</strong> Uploads to Docker Hub</li>
                <li><strong>Kubernetes Deploy:</strong> Deploys to cluster</li>
            </ol>

            <h3>Long-term Solution (Optional)</h3>
            
            <p>To avoid the base href issue in future builds, update your Angular build command:</p>
            
            <div class="command-box">
                <strong>Build Angular with correct base href:</strong>
                <pre><code># Build Angular with root base href
ng build --base-href=/</code></pre>
            </div>

            <p>Or update your Jenkins pipeline:</p>
            <pre><code>stage('Build Angular App') {
    steps {
        echo 'Building Angular application...'
        script {
            bat "npm run build -- --configuration=production --base-href=/"
        }
    }
}</code></pre>
        </section>

        <footer style="margin-top: 50px; padding-top: 20px; border-top: 2px solid #e0e0e0; text-align: center; color: #666;">
            <p><strong>Angular App Deployment Guide - Version 2.0</strong></p>
            <p>Complete CI/CD pipeline with Jenkins, Kubernetes, and Kong Gateway - WITH KONG ROUTE FIX</p>
            <p>Updated on November 24, 2025 | Includes critical strip_path configuration fix</p>
        </footer>
    </div>

    <script>
        // Add download functionality
        document.addEventListener('DOMContentLoaded', function() {
            const style = document.createElement('style');
            style.textContent = `
                .download-btn {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #0066cc;
                    color: white;
                    padding: 10px 20px;
                    border: none;
                    border-radius: 5px;
                    cursor: pointer;
                    font-size: 14px;
                    z-index: 1000;
                }
                .download-btn:hover {
                    background: #0052a3;
                }
            `;
            document.head.appendChild(style);

            const downloadBtn = document.createElement('button');
            downloadBtn.className = 'download-btn';
            downloadBtn.textContent = 'ðŸ“¥ Download Updated Guide';
            downloadBtn.onclick = downloadGuide;
            document.body.appendChild(downloadBtn);

            function downloadGuide() {
                const htmlContent = document.documentElement.outerHTML;
                const blob = new Blob([htmlContent], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'angular-app-deployment-guide-v2-with-fix.html';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        });
    </script>
</body>
</html>