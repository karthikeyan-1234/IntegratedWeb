<mat-card class="product-form-card">
  <!-- Form Header -->
  <mat-card-header>
    <mat-card-title>Add New Product</mat-card-title>
    <mat-card-subtitle>Fill in the product details below</mat-card-subtitle>
  </mat-card-header>

  <mat-divider></mat-divider>

  <!-- Success Message -->
  <div *ngIf="submittedSuccessfully" class="success-message">
    <mat-icon class="success-icon">check_circle</mat-icon>
    <p>Product added successfully!</p>
  </div>

  <!-- Product Form -->
  <form *ngIf="!submittedSuccessfully" [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <mat-card-content class="form-content">
      
      <!-- Product Name Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Product Name</mat-label>
        <input 
          matInput 
          formControlName="name" 
          placeholder="Enter product name"
          aria-label="Product name">
        <mat-icon matPrefix>sell</mat-icon>
        <mat-error *ngIf="hasError('name')">
          {{ getErrorMessage('name') }}
        </mat-error>
      </mat-form-field>

      <!-- Product Price Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Price ($)</mat-label>
        <input 
          matInput 
          type="number" 
          formControlName="price" 
          placeholder="0.00"
          aria-label="Product price"
          step="0.01"
          min="0.01">
        <mat-icon matPrefix>attach_money</mat-icon>
        <mat-error *ngIf="hasError('price')">
          {{ getErrorMessage('price') }}
        </mat-error>
      </mat-form-field>

      <!-- Product Image URL Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Image URL (Optional)</mat-label>
        <input 
          matInput 
          formControlName="image" 
          placeholder="https://example.com/image.jpg"
          aria-label="Product image URL">
        <mat-icon matPrefix>image</mat-icon>
        <mat-hint>Leave empty for default placeholder image</mat-hint>
        <mat-error *ngIf="hasError('image')">
          {{ getErrorMessage('image') }}
        </mat-error>
      </mat-form-field>

      <!-- Product Description Field -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Description (Optional)</mat-label>
        <textarea 
          matInput 
          formControlName="description" 
          placeholder="Enter product description"
          aria-label="Product description"
          rows="3"
          maxlength="500">
        </textarea>
        <mat-icon matPrefix>description</mat-icon>
        <mat-hint align="end">{{ productForm.get('description')?.value?.length || 0 }}/500</mat-hint>
        <mat-error *ngIf="hasError('description')">
          {{ getErrorMessage('description') }}
        </mat-error>
      </mat-form-field>

    </mat-card-content>

    <mat-divider></mat-divider>

    <!-- Form Actions -->
    <mat-card-actions class="form-actions">
      <button 
        mat-button 
        type="button" 
        (click)="onCancel()"
        [disabled]="isSubmitting">
        Cancel
      </button>
      
      <button 
        mat-raised-button 
        color="primary" 
        type="submit"
        [disabled]="productForm.invalid || isSubmitting"
        class="submit-button">
        <span *ngIf="!isSubmitting">Add Product</span>
        <span *ngIf="isSubmitting" class="loading-state">
          <mat-icon class="spinner-icon">hourglass_empty</mat-icon>
          Adding...
        </span>
      </button>
    </mat-card-actions>
  </form>

  <!-- Success Actions -->
  <mat-card-actions *ngIf="submittedSuccessfully" class="success-actions">
    <button 
      mat-button 
      type="button" 
      (click)="resetForm()"
      class="add-another-button">
      <mat-icon>add_circle</mat-icon>
      Add Another Product
    </button>
  </mat-card-actions>
</mat-card>